<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ebenezer Admin Page</title>
  <link rel="icon" href="public_html/img/school.png" />
  <link rel="stylesheet" href="admin.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
</head>

<body>
  <div class="dropdown-container">
    <div class="dropdown-section">
      <h1>Ebenezer Admin Page</h1>
      <h1>Select Page</h1>
      <a href="events.html" target="_blank">Events</a>
      <select class="dropdown" id="pageSelector">
        <option disabled selected>Choose an option</option>
        <option value="gallery">Gallery</option>
        <option value="events">Events</option>
      </select>
    </div>
  </div>

  <div class="form-wrapper">
    <!-- GALLERY FORM -->
    <div class="gallery-from form-section">
      <h2>Gallery Form</h2>
      <p>Upload an Image it will be saved to the gallery section.</p>

      <form class="upload-form" id="galleryUploadForm">
        <div class="upload-box" id="uploadBox">
          <input type="file" id="imageUpload" accept="image/*" hidden />
          <label for="imageUpload" class="upload-label">
            <i class="fas fa-cloud-upload-alt"></i>
            <span>Click or drag an image here</span>
          </label>
          <img id="previewImage" class="preview" src="" alt="Preview" />
        </div>
        <button type="submit" class="upload-btn">Save Image</button>
      </form>
      <p class="upload-status" id="uploadStatus"></p>
    </div>

    <!-- EVENTS FORM -->
    <div class="events-from form-section">
      <h2>Events Form</h2>
      <p>Add an upcoming event with details it will appear in the Events page.</p>

      <form class="event-form" id="eventForm">
        <div class="form-group">
          <label for="eventTitle">Event Title</label>
          <input type="text" id="eventTitle" placeholder="Enter event title" required />
        </div>

        <div class="form-group">
          <label for="eventDesc">Description</label>
          <textarea id="eventDesc" rows="4" placeholder="Write a short description..." required></textarea>
        </div>

        <div class="form-group">
          <label for="eventDate">Event Date</label>
          <input type="date" id="eventDate" required />
          <p class="day-display" id="dayDisplay"></p>
        </div>

        <!--<div class="form-group upload-section">
          <label>Event Image</label>
          <input type="file" id="eventImage" accept="image/*" />
          <img id="eventPreview" class="event-preview" alt="Event Preview" />
        </div>-->

        <button type="submit" class="event-btn">Preview Event</button>
      </form>

      <div class="event-preview-card hidden" id="eventPreviewCard">
        <img id="previewImg" src="" alt="Event Image" />
        <div class="preview-content">
          <h3 id="previewTitle"></h3>
          <p id="previewDate"></p>
          <p id="previewDesc"></p>
        </div>
        <button type="button" class="edit-btn">Edit</button>
        <button type="button" class="submit-btn" id = 'submit-btn'>Submit</button>
      </div>
    </div>
  </div>

  <script src="admin.js"></script>
</body>

<script>
  // Check authentication
  const token = localStorage.getItem("authToken");
  if (!token) {
    alert("Unauthorized access! Please log in first.");
    window.location.href = "/auth.html";
  }
</script>
</html>
